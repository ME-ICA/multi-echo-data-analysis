Traceback (most recent call last):
  File "/opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages/jupyter_core/utils/__init__.py", line 154, in wrapped
    asyncio.get_running_loop()
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages/jupyter_cache/executors/utils.py", line 58, in single_nb_execution
    executenb(
  File "/opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages/nbclient/client.py", line 1319, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "/opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages/jupyter_core/utils/__init__.py", line 158, in wrapped
    return loop.run_until_complete(inner)
  File "/opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages/nbclient/client.py", line 709, in async_execute
    await self.async_execute_cell(
  File "/opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages/nbclient/client.py", line 1062, in async_execute_cell
    await self._check_raise_for_error(cell, cell_index, exec_reply)
  File "/opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages/nbclient/client.py", line 918, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
import matplotlib.pyplot as plt
import numpy as np
import pandas as pd

# TODO: deal with the issue that the plot doesn't regenerate (ie isn't alive)
# Unless the code is updated.
metable = pd.read_csv(
    "https://docs.google.com/spreadsheets/d/1WERojJyxFoqcg_tndUm5Kj0H1UfUc9Ban0jFGGfPaBk/export?gid=0&format=csv",
    header=0,
)
TEs = [
    metable.TE1.mean(),
    metable.TE2.mean(),
    metable.TE3.mean(),
    metable.TE4.mean(),
    metable.TE5.mean(),
]
TE_labels = ["TE1", "TE2", "TE3", "TE4", "TE5"]
plt.bar([1, 2, 3, 4, 5], TEs)
plt.title("Echo Times", fontsize=18)
pub_count = metable.TE1.count()
plt.text(0.5, 60, "Average from {} studies".format(pub_count))
plt.xlabel("Echo Number")
plt.ylabel("Echo Time (ms)")
plt.show()

plt.hist(metable.TR.to_numpy())
plt.title("Repetition Times", fontsize=18)
plt.xlabel("Repetition Time (s)")
plt.ylabel("Count")
plt.show()

x_vox = metable.x.to_numpy()
y_vox = metable.y.to_numpy()
z_vox = metable.z.to_numpy()
plt.hist(np.nanmean([x_vox, y_vox, z_vox], 0))
plt.title("Voxel Dimensions", fontsize=18)
plt.xlabel("Average Voxel dimension (mm)")
plt.ylabel("Count")
plt.show()
------------------


[0;31m---------------------------------------------------------------------------[0m
[0;31mTypeError[0m                                 Traceback (most recent call last)
Cell [0;32mIn[1], line 27[0m
[1;32m     24[0m plt[38;5;241m.[39mylabel([38;5;124m"[39m[38;5;124mEcho Time (ms)[39m[38;5;124m"[39m)
[1;32m     25[0m plt[38;5;241m.[39mshow()
[0;32m---> 27[0m [43mplt[49m[38;5;241;43m.[39;49m[43mhist[49m[43m([49m[43mmetable[49m[38;5;241;43m.[39;49m[43mTR[49m[38;5;241;43m.[39;49m[43mto_numpy[49m[43m([49m[43m)[49m[43m)[49m
[1;32m     28[0m plt[38;5;241m.[39mtitle([38;5;124m"[39m[38;5;124mRepetition Times[39m[38;5;124m"[39m, fontsize[38;5;241m=[39m[38;5;241m18[39m)
[1;32m     29[0m plt[38;5;241m.[39mxlabel([38;5;124m"[39m[38;5;124mRepetition Time (s)[39m[38;5;124m"[39m)

File [0;32m/opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages/matplotlib/_api/deprecation.py:453[0m, in [0;36mmake_keyword_only.<locals>.wrapper[0;34m(*args, **kwargs)[0m
[1;32m    447[0m [38;5;28;01mif[39;00m [38;5;28mlen[39m(args) [38;5;241m>[39m name_idx:
[1;32m    448[0m     warn_deprecated(
[1;32m    449[0m         since, message[38;5;241m=[39m[38;5;124m"[39m[38;5;124mPassing the [39m[38;5;132;01m%(name)s[39;00m[38;5;124m [39m[38;5;132;01m%(obj_type)s[39;00m[38;5;124m [39m[38;5;124m"[39m
[1;32m    450[0m         [38;5;124m"[39m[38;5;124mpositionally is deprecated since Matplotlib [39m[38;5;132;01m%(since)s[39;00m[38;5;124m; the [39m[38;5;124m"[39m
[1;32m    451[0m         [38;5;124m"[39m[38;5;124mparameter will become keyword-only in [39m[38;5;132;01m%(removal)s[39;00m[38;5;124m.[39m[38;5;124m"[39m,
[1;32m    452[0m         name[38;5;241m=[39mname, obj_type[38;5;241m=[39m[38;5;124mf[39m[38;5;124m"[39m[38;5;124mparameter of [39m[38;5;132;01m{[39;00mfunc[38;5;241m.[39m[38;5;18m__name__[39m[38;5;132;01m}[39;00m[38;5;124m()[39m[38;5;124m"[39m)
[0;32m--> 453[0m [38;5;28;01mreturn[39;00m [43mfunc[49m[43m([49m[38;5;241;43m*[39;49m[43margs[49m[43m,[49m[43m [49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[43mkwargs[49m[43m)[49m

File [0;32m/opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages/matplotlib/pyplot.py:3478[0m, in [0;36mhist[0;34m(x, bins, range, density, weights, cumulative, bottom, histtype, align, orientation, rwidth, log, color, label, stacked, data, **kwargs)[0m
[1;32m   3453[0m [38;5;129m@_copy_docstring_and_deprecators[39m(Axes[38;5;241m.[39mhist)
[1;32m   3454[0m [38;5;28;01mdef[39;00m[38;5;250m [39m[38;5;21mhist[39m(
[1;32m   3455[0m     x: ArrayLike [38;5;241m|[39m Sequence[ArrayLike],
[0;32m   (...)[0m
[1;32m   3476[0m     BarContainer [38;5;241m|[39m Polygon [38;5;241m|[39m [38;5;28mlist[39m[BarContainer [38;5;241m|[39m Polygon],
[1;32m   3477[0m ]:
[0;32m-> 3478[0m     [38;5;28;01mreturn[39;00m [43mgca[49m[43m([49m[43m)[49m[38;5;241;43m.[39;49m[43mhist[49m[43m([49m
[1;32m   3479[0m [43m        [49m[43mx[49m[43m,[49m
[1;32m   3480[0m [43m        [49m[43mbins[49m[38;5;241;43m=[39;49m[43mbins[49m[43m,[49m
[1;32m   3481[0m [43m        [49m[38;5;28;43mrange[39;49m[38;5;241;43m=[39;49m[38;5;28;43mrange[39;49m[43m,[49m
[1;32m   3482[0m [43m        [49m[43mdensity[49m[38;5;241;43m=[39;49m[43mdensity[49m[43m,[49m
[1;32m   3483[0m [43m        [49m[43mweights[49m[38;5;241;43m=[39;49m[43mweights[49m[43m,[49m
[1;32m   3484[0m [43m        [49m[43mcumulative[49m[38;5;241;43m=[39;49m[43mcumulative[49m[43m,[49m
[1;32m   3485[0m [43m        [49m[43mbottom[49m[38;5;241;43m=[39;49m[43mbottom[49m[43m,[49m
[1;32m   3486[0m [43m        [49m[43mhisttype[49m[38;5;241;43m=[39;49m[43mhisttype[49m[43m,[49m
[1;32m   3487[0m [43m        [49m[43malign[49m[38;5;241;43m=[39;49m[43malign[49m[43m,[49m
[1;32m   3488[0m [43m        [49m[43morientation[49m[38;5;241;43m=[39;49m[43morientation[49m[43m,[49m
[1;32m   3489[0m [43m        [49m[43mrwidth[49m[38;5;241;43m=[39;49m[43mrwidth[49m[43m,[49m
[1;32m   3490[0m [43m        [49m[43mlog[49m[38;5;241;43m=[39;49m[43mlog[49m[43m,[49m
[1;32m   3491[0m [43m        [49m[43mcolor[49m[38;5;241;43m=[39;49m[43mcolor[49m[43m,[49m
[1;32m   3492[0m [43m        [49m[43mlabel[49m[38;5;241;43m=[39;49m[43mlabel[49m[43m,[49m
[1;32m   3493[0m [43m        [49m[43mstacked[49m[38;5;241;43m=[39;49m[43mstacked[49m[43m,[49m
[1;32m   3494[0m [43m        [49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[43m([49m[43m{[49m[38;5;124;43m"[39;49m[38;5;124;43mdata[39;49m[38;5;124;43m"[39;49m[43m:[49m[43m [49m[43mdata[49m[43m}[49m[43m [49m[38;5;28;43;01mif[39;49;00m[43m [49m[43mdata[49m[43m [49m[38;5;129;43;01mis[39;49;00m[43m [49m[38;5;129;43;01mnot[39;49;00m[43m [49m[38;5;28;43;01mNone[39;49;00m[43m [49m[38;5;28;43;01melse[39;49;00m[43m [49m[43m{[49m[43m}[49m[43m)[49m[43m,[49m
[1;32m   3495[0m [43m        [49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[43mkwargs[49m[43m,[49m
[1;32m   3496[0m [43m    [49m[43m)[49m

File [0;32m/opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages/matplotlib/_api/deprecation.py:453[0m, in [0;36mmake_keyword_only.<locals>.wrapper[0;34m(*args, **kwargs)[0m
[1;32m    447[0m [38;5;28;01mif[39;00m [38;5;28mlen[39m(args) [38;5;241m>[39m name_idx:
[1;32m    448[0m     warn_deprecated(
[1;32m    449[0m         since, message[38;5;241m=[39m[38;5;124m"[39m[38;5;124mPassing the [39m[38;5;132;01m%(name)s[39;00m[38;5;124m [39m[38;5;132;01m%(obj_type)s[39;00m[38;5;124m [39m[38;5;124m"[39m
[1;32m    450[0m         [38;5;124m"[39m[38;5;124mpositionally is deprecated since Matplotlib [39m[38;5;132;01m%(since)s[39;00m[38;5;124m; the [39m[38;5;124m"[39m
[1;32m    451[0m         [38;5;124m"[39m[38;5;124mparameter will become keyword-only in [39m[38;5;132;01m%(removal)s[39;00m[38;5;124m.[39m[38;5;124m"[39m,
[1;32m    452[0m         name[38;5;241m=[39mname, obj_type[38;5;241m=[39m[38;5;124mf[39m[38;5;124m"[39m[38;5;124mparameter of [39m[38;5;132;01m{[39;00mfunc[38;5;241m.[39m[38;5;18m__name__[39m[38;5;132;01m}[39;00m[38;5;124m()[39m[38;5;124m"[39m)
[0;32m--> 453[0m [38;5;28;01mreturn[39;00m [43mfunc[49m[43m([49m[38;5;241;43m*[39;49m[43margs[49m[43m,[49m[43m [49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[43mkwargs[49m[43m)[49m

File [0;32m/opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages/matplotlib/__init__.py:1521[0m, in [0;36m_preprocess_data.<locals>.inner[0;34m(ax, data, *args, **kwargs)[0m
[1;32m   1518[0m [38;5;129m@functools[39m[38;5;241m.[39mwraps(func)
[1;32m   1519[0m [38;5;28;01mdef[39;00m[38;5;250m [39m[38;5;21minner[39m(ax, [38;5;241m*[39margs, data[38;5;241m=[39m[38;5;28;01mNone[39;00m, [38;5;241m*[39m[38;5;241m*[39mkwargs):
[1;32m   1520[0m     [38;5;28;01mif[39;00m data [38;5;129;01mis[39;00m [38;5;28;01mNone[39;00m:
[0;32m-> 1521[0m         [38;5;28;01mreturn[39;00m [43mfunc[49m[43m([49m
[1;32m   1522[0m [43m            [49m[43max[49m[43m,[49m
[1;32m   1523[0m [43m            [49m[38;5;241;43m*[39;49m[38;5;28;43mmap[39;49m[43m([49m[43mcbook[49m[38;5;241;43m.[39;49m[43msanitize_sequence[49m[43m,[49m[43m [49m[43margs[49m[43m)[49m[43m,[49m
[1;32m   1524[0m [43m            [49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[43m{[49m[43mk[49m[43m:[49m[43m [49m[43mcbook[49m[38;5;241;43m.[39;49m[43msanitize_sequence[49m[43m([49m[43mv[49m[43m)[49m[43m [49m[38;5;28;43;01mfor[39;49;00m[43m [49m[43mk[49m[43m,[49m[43m [49m[43mv[49m[43m [49m[38;5;129;43;01min[39;49;00m[43m [49m[43mkwargs[49m[38;5;241;43m.[39;49m[43mitems[49m[43m([49m[43m)[49m[43m}[49m[43m)[49m
[1;32m   1526[0m     bound [38;5;241m=[39m new_sig[38;5;241m.[39mbind(ax, [38;5;241m*[39margs, [38;5;241m*[39m[38;5;241m*[39mkwargs)
[1;32m   1527[0m     auto_label [38;5;241m=[39m (bound[38;5;241m.[39marguments[38;5;241m.[39mget(label_namer)
[1;32m   1528[0m                   [38;5;129;01mor[39;00m bound[38;5;241m.[39mkwargs[38;5;241m.[39mget(label_namer))

File [0;32m/opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages/matplotlib/axes/_axes.py:7050[0m, in [0;36mAxes.hist[0;34m(self, x, bins, range, density, weights, cumulative, bottom, histtype, align, orientation, rwidth, log, color, label, stacked, **kwargs)[0m
[1;32m   7048[0m [38;5;28;01mif[39;00m orientation [38;5;241m==[39m [38;5;124m"[39m[38;5;124mvertical[39m[38;5;124m"[39m:
[1;32m   7049[0m     convert_units [38;5;241m=[39m [38;5;28mself[39m[38;5;241m.[39mconvert_xunits
[0;32m-> 7050[0m     x [38;5;241m=[39m [[38;5;241m*[39m[38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43m_process_unit_info[49m[43m([49m[43m[[49m[43m([49m[38;5;124;43m"[39;49m[38;5;124;43mx[39;49m[38;5;124;43m"[39;49m[43m,[49m[43m [49m[43mx[49m[43m[[49m[38;5;241;43m0[39;49m[43m][49m[43m)[49m[43m][49m[43m,[49m[43m [49m[43mkwargs[49m[43m)[49m,
[1;32m   7051[0m          [38;5;241m*[39m[38;5;28mmap[39m(convert_units, x[[38;5;241m1[39m:])]
[1;32m   7052[0m [38;5;28;01melse[39;00m:  [38;5;66;03m# horizontal[39;00m
[1;32m   7053[0m     convert_units [38;5;241m=[39m [38;5;28mself[39m[38;5;241m.[39mconvert_yunits

File [0;32m/opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages/matplotlib/axes/_base.py:2653[0m, in [0;36m_AxesBase._process_unit_info[0;34m(self, datasets, kwargs, convert)[0m
[1;32m   2651[0m     [38;5;66;03m# Update from data if axis is already set but no unit is set yet.[39;00m
[1;32m   2652[0m     [38;5;28;01mif[39;00m axis [38;5;129;01mis[39;00m [38;5;129;01mnot[39;00m [38;5;28;01mNone[39;00m [38;5;129;01mand[39;00m data [38;5;129;01mis[39;00m [38;5;129;01mnot[39;00m [38;5;28;01mNone[39;00m [38;5;129;01mand[39;00m [38;5;129;01mnot[39;00m axis[38;5;241m.[39mhave_units():
[0;32m-> 2653[0m         [43maxis[49m[38;5;241;43m.[39;49m[43mupdate_units[49m[43m([49m[43mdata[49m[43m)[49m
[1;32m   2654[0m [38;5;28;01mfor[39;00m axis_name, axis [38;5;129;01min[39;00m axis_map[38;5;241m.[39mitems():
[1;32m   2655[0m     [38;5;66;03m# Return if no axis is set.[39;00m
[1;32m   2656[0m     [38;5;28;01mif[39;00m axis [38;5;129;01mis[39;00m [38;5;28;01mNone[39;00m:

File [0;32m/opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages/matplotlib/axis.py:1754[0m, in [0;36mAxis.update_units[0;34m(self, data)[0m
[1;32m   1752[0m neednew [38;5;241m=[39m [38;5;28mself[39m[38;5;241m.[39m_converter [38;5;241m!=[39m converter
[1;32m   1753[0m [38;5;28mself[39m[38;5;241m.[39m_set_converter(converter)
[0;32m-> 1754[0m default [38;5;241m=[39m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43m_converter[49m[38;5;241;43m.[39;49m[43mdefault_units[49m[43m([49m[43mdata[49m[43m,[49m[43m [49m[38;5;28;43mself[39;49m[43m)[49m
[1;32m   1755[0m [38;5;28;01mif[39;00m default [38;5;129;01mis[39;00m [38;5;129;01mnot[39;00m [38;5;28;01mNone[39;00m [38;5;129;01mand[39;00m [38;5;28mself[39m[38;5;241m.[39munits [38;5;129;01mis[39;00m [38;5;28;01mNone[39;00m:
[1;32m   1756[0m     [38;5;28mself[39m[38;5;241m.[39mset_units(default)

File [0;32m/opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages/matplotlib/category.py:106[0m, in [0;36mStrCategoryConverter.default_units[0;34m(data, axis)[0m
[1;32m    104[0m [38;5;66;03m# the conversion call stack is default_units -> axis_info -> convert[39;00m
[1;32m    105[0m [38;5;28;01mif[39;00m axis[38;5;241m.[39munits [38;5;129;01mis[39;00m [38;5;28;01mNone[39;00m:
[0;32m--> 106[0m     axis[38;5;241m.[39mset_units([43mUnitData[49m[43m([49m[43mdata[49m[43m)[49m)
[1;32m    107[0m [38;5;28;01melse[39;00m:
[1;32m    108[0m     axis[38;5;241m.[39munits[38;5;241m.[39mupdate(data)

File [0;32m/opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages/matplotlib/category.py:182[0m, in [0;36mUnitData.__init__[0;34m(self, data)[0m
[1;32m    180[0m [38;5;28mself[39m[38;5;241m.[39m_counter [38;5;241m=[39m itertools[38;5;241m.[39mcount()
[1;32m    181[0m [38;5;28;01mif[39;00m data [38;5;129;01mis[39;00m [38;5;129;01mnot[39;00m [38;5;28;01mNone[39;00m:
[0;32m--> 182[0m     [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43mupdate[49m[43m([49m[43mdata[49m[43m)[49m

File [0;32m/opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages/matplotlib/category.py:217[0m, in [0;36mUnitData.update[0;34m(self, data)[0m
[1;32m    214[0m convertible [38;5;241m=[39m [38;5;28;01mTrue[39;00m
[1;32m    215[0m [38;5;28;01mfor[39;00m val [38;5;129;01min[39;00m OrderedDict[38;5;241m.[39mfromkeys(data):
[1;32m    216[0m     [38;5;66;03m# OrderedDict just iterates over unique values in data.[39;00m
[0;32m--> 217[0m     [43m_api[49m[38;5;241;43m.[39;49m[43mcheck_isinstance[49m[43m([49m[43m([49m[38;5;28;43mstr[39;49m[43m,[49m[43m [49m[38;5;28;43mbytes[39;49m[43m)[49m[43m,[49m[43m [49m[43mvalue[49m[38;5;241;43m=[39;49m[43mval[49m[43m)[49m
[1;32m    218[0m     [38;5;28;01mif[39;00m convertible:
[1;32m    219[0m         [38;5;66;03m# this will only be called so long as convertible is True.[39;00m
[1;32m    220[0m         convertible [38;5;241m=[39m [38;5;28mself[39m[38;5;241m.[39m_str_is_convertible(val)

File [0;32m/opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages/matplotlib/_api/__init__.py:92[0m, in [0;36mcheck_isinstance[0;34m(types, **kwargs)[0m
[1;32m     90[0m     names[38;5;241m.[39mremove([38;5;124m"[39m[38;5;124mNone[39m[38;5;124m"[39m)
[1;32m     91[0m     names[38;5;241m.[39mappend([38;5;124m"[39m[38;5;124mNone[39m[38;5;124m"[39m)
[0;32m---> 92[0m [38;5;28;01mraise[39;00m [38;5;167;01mTypeError[39;00m(
[1;32m     93[0m     [38;5;124m"[39m[38;5;132;01m{!r}[39;00m[38;5;124m must be an instance of [39m[38;5;132;01m{}[39;00m[38;5;124m, not a [39m[38;5;132;01m{}[39;00m[38;5;124m"[39m[38;5;241m.[39mformat(
[1;32m     94[0m         k,
[1;32m     95[0m         [38;5;124m"[39m[38;5;124m, [39m[38;5;124m"[39m[38;5;241m.[39mjoin(names[:[38;5;241m-[39m[38;5;241m1[39m]) [38;5;241m+[39m [38;5;124m"[39m[38;5;124m or [39m[38;5;124m"[39m [38;5;241m+[39m names[[38;5;241m-[39m[38;5;241m1[39m]
[1;32m     96[0m         [38;5;28;01mif[39;00m [38;5;28mlen[39m(names) [38;5;241m>[39m [38;5;241m1[39m [38;5;28;01melse[39;00m names[[38;5;241m0[39m],
[1;32m     97[0m         type_name([38;5;28mtype[39m(v))))

[0;31mTypeError[0m: 'value' must be an instance of str or bytes, not a float

